{"version":3,"sources":["../../../src/test/entries-spec.js"],"names":["dotenv","config","expect","chai","request","Request","describe","after","server","close","it","done","before","process","env","root_url","version_url","get","reply","title","description","url","error","res","body","jsonObject","JSON","parse","statusCode","to","be","equal","a","timeout","formData","post"],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEAA,iBAAOC,MAAP;IACQC,M,GAAWC,c,CAAXD,M;;AACR,IAAME,UAAU,IAAIC,kBAAJ,EAAhB;;AAEAC,SAAS,qBAAT,EAAgC,YAAM;AACrCC,OAAM,YAAM;AACXC,gBAAOC,KAAP;AACA,EAFD;AAGAH,UAAS,cAAT,EAAyB,YAAM;AAC9BI,KAAG,oCAAH,EAAyC,UAACC,IAAD,EAAU;AAClDC,UAAO,YAAM;AACZ,wBAAQC,QAAQC,GAAR,CAAYC,QAApB,SAAgCF,QAAQG,WAAxC,EAAuDC,GAAvD,CAA2D,UAA3D,EAAuEC,KAAvE,CAA6E,GAA7E,EAAkF,CAAC,EAAEC,OAAO,KAAT,EAAgBC,aAAa,MAA7B,EAAD,CAAlF;AACA,IAFD;AAGA,OAAMC,MAASR,QAAQC,GAAR,CAAYC,QAArB,SAAiCF,QAAQC,GAAR,CAAYE,WAA7C,aAAN;AACAZ,WAAQa,GAAR,CAAYI,GAAZ,EAAiB,UAACC,KAAD,EAAQC,GAAR,EAAaC,IAAb,EAAsB;AACtC,QAAMC,aAAaC,KAAKC,KAAL,CAAWH,IAAX,CAAnB;AACAtB,WAAOqB,IAAIK,UAAX,EAAuBC,EAAvB,CAA0BC,EAA1B,CAA6BC,KAA7B,CAAmC,GAAnC;AACA7B,WAAOuB,UAAP,EAAmBI,EAAnB,CAAsBC,EAAtB,CAAyBE,CAAzB,CAA2B,OAA3B;AACArB;AACA,IALD;AAMA,GAXD,EAWGsB,OAXH,CAWW,KAXX;AAYA,EAbD;;AAeA3B,UAAS,aAAT,EAAwB,YAAM;AAC7BI,KAAG,sBAAH,EAA2B,UAACC,IAAD,EAAU;AACpC,OAAMU,MAASR,QAAQC,GAAR,CAAYC,QAArB,SAAiCF,QAAQC,GAAR,CAAYE,WAA7C,eAAN;AACAZ,WAAQa,GAAR,CAAYI,GAAZ,EAAiB,UAACC,KAAD,EAAQC,GAAR,EAAaC,IAAb,EAAsB;AACtC,QAAMC,aAAaC,KAAKC,KAAL,CAAWH,IAAX,CAAnB;AACAtB,WAAOqB,IAAIK,UAAX,EAAuBC,EAAvB,CAA0BC,EAA1B,CAA6BC,KAA7B,CAAmC,GAAnC;AACA7B,WAAOuB,UAAP,EAAmBI,EAAnB,CAAsBC,EAAtB,CAAyBE,CAAzB,CAA2B,QAA3B;AACArB;AACA,IALD;AAMA,GARD,EAQGsB,OARH,CAQW,KARX;AASA,EAVD;;AAYA3B,UAAS,aAAT,EAAwB,YAAM;AAC7BI,KAAG,sBAAH,EAA2B,UAACC,IAAD,EAAU;AACpC,OAAMU,MAASR,QAAQC,GAAR,CAAYC,QAArB,SAAiCF,QAAQC,GAAR,CAAYE,WAA7C,eAAN;AACA,OAAMkB,WAAW;AAChBf,WAAO,QADS;AAEhBC,iBAAa;AAFG,IAAjB;AAIAhB,WAAQ+B,IAAR,CAAad,GAAb,EAAkBa,QAAlB,EAA4B,UAACZ,KAAD,EAAQC,GAAR,EAAaC,IAAb,EAAsB;AACjD,QAAMC,aAAaC,KAAKC,KAAL,CAAWH,IAAX,CAAnB;AACAtB,WAAOqB,IAAIK,UAAX,EAAuBC,EAAvB,CAA0BC,EAA1B,CAA6BC,KAA7B,CAAmC,GAAnC;AACA7B,WAAOuB,UAAP,EAAmBI,EAAnB,CAAsBC,EAAtB,CAAyBE,CAAzB,CAA2B,QAA3B;AACArB;AACA,IALD;AAMA,GAZD,EAYGsB,OAZH,CAYW,KAZX;AAaA,EAdD;AAeA,CA9CD","file":"entries-spec.js","sourcesContent":["import chai from 'chai';\nimport nock from 'nock';\nimport dotenv from 'dotenv';\nimport Request from '../lib/requests';\nimport server from '../app';\n\ndotenv.config();\nconst { expect } = chai;\nconst request = new Request();\n\ndescribe('Test Enrties Routes', () => {\n\tafter(() => {\n\t\tserver.close();\n\t});\n\tdescribe('allEntries()', () => {\n\t\tit('should show all entries in the app', (done) => {\n\t\t\tbefore(() => {\n\t\t\t\tnock(`${process.env.root_url}/${process.version_url}`).get('/entries').reply(200, [{ title: 'one', description: 'cool' }]);\n\t\t\t});\n\t\t\tconst url = `${process.env.root_url}/${process.env.version_url}/entries`;\n\t\t\trequest.get(url, (error, res, body) => {\n\t\t\t\tconst jsonObject = JSON.parse(body);\n\t\t\t\texpect(res.statusCode).to.be.equal(200);\n\t\t\t\texpect(jsonObject).to.be.a('array');\n\t\t\t\tdone();\n\t\t\t});\n\t\t}).timeout(10000);\n\t});\n\n\tdescribe('showEntry()', () => {\n\t\tit('should show an entry', (done) => {\n\t\t\tconst url = `${process.env.root_url}/${process.env.version_url}/entries/0`;\n\t\t\trequest.get(url, (error, res, body) => {\n\t\t\t\tconst jsonObject = JSON.parse(body);\n\t\t\t\texpect(res.statusCode).to.be.equal(200);\n\t\t\t\texpect(jsonObject).to.be.a('object');\n\t\t\t\tdone();\n\t\t\t});\n\t\t}).timeout(10000);\n\t});\n\n\tdescribe('showEntry()', () => {\n\t\tit('should show an entry', (done) => {\n\t\t\tconst url = `${process.env.root_url}/${process.env.version_url}/entries/0`;\n\t\t\tconst formData = {\n\t\t\t\ttitle: 'Second',\n\t\t\t\tdescription: 'Cool',\n\t\t\t};\n\t\t\trequest.post(url, formData, (error, res, body) => {\n\t\t\t\tconst jsonObject = JSON.parse(body);\n\t\t\t\texpect(res.statusCode).to.be.equal(201);\n\t\t\t\texpect(jsonObject).to.be.a('object');\n\t\t\t\tdone();\n\t\t\t});\n\t\t}).timeout(10000);\n\t});\n});\n"]}