{"version":3,"sources":["../../../src/test/users-spec.js"],"names":["dotenv","config","expect","chai","request","Request","user","email","password","fullName","dob","describe","after","mainServer","close","it","done","url","process","env","root_url","version_url","post","error","res","body","jsonObject","JSON","parse","statusCode","to","be","equal","a","timeout","formData","message","get","put","reminderDate"],"mappings":";;AAAA;;;;AAEA;;;;AACA;;;;AACA;;;;AAEAA,iBAAOC,MAAP;AALA;IAMQC,M,GAAWC,c,CAAXD,M;;AACR,IAAME,UAAU,IAAIC,kBAAJ,EAAhB;AACA,IAAMC,OAAO;AACZC,QAAO,mBADK;AAEZC,WAAU,UAFE;AAGZC,WAAU,WAHE;AAIZC,MAAK;AAJO,CAAb;;AAOAC,SAAS,YAAT,EAAuB,YAAM;AAC5BC,OAAM,YAAM;AACXC,kBAAWC,KAAX;AACA,EAFD;AAGAH,UAAS,eAAT,EAA0B,YAAM;AAC/BI,KAAG,sBAAH,EAA2B,UAACC,IAAD,EAAU;AACpC,OAAMC,MAASC,QAAQC,GAAR,CAAYC,QAArB,SAAiCF,QAAQC,GAAR,CAAYE,WAA7C,WAAN;AACAjB,WAAQkB,IAAR,CAAaL,GAAb,EAAkBX,IAAlB,EAAwB,UAACiB,KAAD,EAAQC,GAAR,EAAaC,IAAb,EAAsB;AAC7C,QAAMC,aAAaC,KAAKC,KAAL,CAAWH,IAAX,CAAnB;AACAvB,WAAOsB,IAAIK,UAAX,EAAuBC,EAAvB,CAA0BC,EAA1B,CAA6BC,KAA7B,CAAmC,GAAnC;AACA9B,WAAOwB,UAAP,EAAmBI,EAAnB,CAAsBC,EAAtB,CAAyBE,CAAzB,CAA2B,QAA3B;AACAjB;AACA,IALD;AAMA,GARD,EAQGkB,OARH,CAQW,KARX;AASA,EAVD;;AAYAvB,UAAS,eAAT,EAA0B,YAAM;AAC/BI,KAAG,sBAAH,EAA2B,UAACC,IAAD,EAAU;AACpC,OAAMC,MAASC,QAAQC,GAAR,CAAYC,QAArB,SAAiCF,QAAQC,GAAR,CAAYE,WAA7C,kBAAN;AACA,OAAMc,WAAW;AAChB5B,WAAO,kBADS;AAEhBC,cAAU;AAFM,IAAjB;AAIAJ,WAAQkB,IAAR,CAAaL,GAAb,EAAkBkB,QAAlB,EAA4B,UAACZ,KAAD,EAAQC,GAAR,EAAaC,IAAb,EAAsB;AACjD,QAAMC,aAAaC,KAAKC,KAAL,CAAWH,IAAX,CAAnB;AACAvB,WAAOsB,IAAIK,UAAX,EAAuBC,EAAvB,CAA0BC,EAA1B,CAA6BC,KAA7B,CAAmC,GAAnC;AACA9B,WAAOwB,UAAP,EAAmBI,EAAnB,CAAsBC,EAAtB,CAAyBE,CAAzB,CAA2B,QAA3B;AACA/B,WAAOwB,WAAWU,OAAlB,EAA2BN,EAA3B,CAA8BC,EAA9B,CAAiCC,KAAjC,CAAuC,iCAAvC;AACAhB;AACA,IAND;AAOA,GAbD,EAaGkB,OAbH,CAaW,KAbX;AAcA,EAfD;;AAiBAvB,UAAS,eAAT,EAA0B,YAAM;AAC/BI,KAAG,6BAAH,EAAkC,UAACC,IAAD,EAAU;AAC3C,OAAMC,MAASC,QAAQC,GAAR,CAAYC,QAArB,SAAiCF,QAAQC,GAAR,CAAYE,WAA7C,aAAN;AACAjB,WAAQiC,GAAR,CAAYpB,GAAZ,EAAiB,UAACM,KAAD,EAAQC,GAAR,EAAaC,IAAb,EAAsB;AACtC,QAAMC,aAAaC,KAAKC,KAAL,CAAWH,IAAX,CAAnB;AACAvB,WAAOsB,IAAIK,UAAX,EAAuBC,EAAvB,CAA0BC,EAA1B,CAA6BC,KAA7B,CAAmC,GAAnC;AACA9B,WAAOwB,UAAP,EAAmBI,EAAnB,CAAsBC,EAAtB,CAAyBE,CAAzB,CAA2B,QAA3B;AACAjB;AACA,IALD;AAMA,GARD,EAQGkB,OARH,CAQW,KARX;AASA,EAVD;;AAYAvB,UAAS,iBAAT,EAA4B,YAAM;AACjCI,KAAG,+BAAH,EAAoC,UAACC,IAAD,EAAU;AAC7C,OAAMC,MAASC,QAAQC,GAAR,CAAYC,QAArB,SAAiCF,QAAQC,GAAR,CAAYE,WAA7C,aAAN;AACA,OAAMc,WAAW;AAChB5B,WAAO,yBADS;AAEhBE,cAAU,UAFM;AAGhBC,SAAK;AAHW,IAAjB;AAKAN,WAAQkC,GAAR,CAAYrB,GAAZ,EAAiBkB,QAAjB,EAA2B,UAACZ,KAAD,EAAQC,GAAR,EAAaC,IAAb,EAAsB;AAChD,QAAMC,aAAaC,KAAKC,KAAL,CAAWH,IAAX,CAAnB;AACAvB,WAAOsB,IAAIK,UAAX,EAAuBC,EAAvB,CAA0BC,EAA1B,CAA6BC,KAA7B,CAAmC,GAAnC;AACA9B,WAAOwB,UAAP,EAAmBI,EAAnB,CAAsBC,EAAtB,CAAyBE,CAAzB,CAA2B,QAA3B;AACAjB;AACA,IALD;AAMA,GAbD,EAaGkB,OAbH,CAaW,KAbX;AAcA,EAfD;;AAiBAvB,UAAS,qBAAT,EAAgC,YAAM;AACrCI,KAAG,2BAAH,EAAgC,UAACC,IAAD,EAAU;AACzC,OAAMC,MAASC,QAAQC,GAAR,CAAYC,QAArB,SAAiCF,QAAQC,GAAR,CAAYE,WAA7C,2BAAN;AACA,OAAMc,WAAW;AAChBI,kBAAc;AADE,IAAjB;AAGAnC,WAAQkC,GAAR,CAAYrB,GAAZ,EAAiBkB,QAAjB,EAA2B,UAACZ,KAAD,EAAQC,GAAR,EAAaC,IAAb,EAAsB;AAChD,QAAMC,aAAaC,KAAKC,KAAL,CAAWH,IAAX,CAAnB;AACAvB,WAAOsB,IAAIK,UAAX,EAAuBC,EAAvB,CAA0BC,EAA1B,CAA6BC,KAA7B,CAAmC,GAAnC;AACA9B,WAAOwB,UAAP,EAAmBI,EAAnB,CAAsBC,EAAtB,CAAyBE,CAAzB,CAA2B,QAA3B;AACAjB;AACA,IALD;AAMA,GAXD,EAWGkB,OAXH,CAWW,KAXX;AAYA,EAbD;AAcA,CA5ED","file":"users-spec.js","sourcesContent":["import chai from 'chai';\n// import nock from 'nock';\nimport dotenv from 'dotenv';\nimport Request from '../lib/requests';\nimport { mainServer } from '../app';\n\ndotenv.config();\nconst { expect } = chai;\nconst request = new Request();\nconst user = {\n\temail: 'user1@example.com',\n\tpassword: 'password',\n\tfullName: 'User Name',\n\tdob: '2018-04',\n};\n\ndescribe('User Tests', () => {\n\tafter(() => {\n\t\tmainServer.close();\n\t});\n\tdescribe('signup user()', () => {\n\t\tit('should signup a user', (done) => {\n\t\t\tconst url = `${process.env.root_url}/${process.env.version_url}/users`;\n\t\t\trequest.post(url, user, (error, res, body) => {\n\t\t\t\tconst jsonObject = JSON.parse(body);\n\t\t\t\texpect(res.statusCode).to.be.equal(201);\n\t\t\t\texpect(jsonObject).to.be.a('object');\n\t\t\t\tdone();\n\t\t\t});\n\t\t}).timeout(10000);\n\t});\n\n\tdescribe('signin user()', () => {\n\t\tit('should signin a user', (done) => {\n\t\t\tconst url = `${process.env.root_url}/${process.env.version_url}/users/signin`;\n\t\t\tconst formData = {\n\t\t\t\temail: 'user@example.com',\n\t\t\t\tpassword: 'password',\n\t\t\t};\n\t\t\trequest.post(url, formData, (error, res, body) => {\n\t\t\t\tconst jsonObject = JSON.parse(body);\n\t\t\t\texpect(res.statusCode).to.be.equal(200);\n\t\t\t\texpect(jsonObject).to.be.a('object');\n\t\t\t\texpect(jsonObject.message).to.be.equal('You have successfully signed in');\n\t\t\t\tdone();\n\t\t\t});\n\t\t}).timeout(10000);\n\t});\n\n\tdescribe('showProfile()', () => {\n\t\tit('should show a users profile', (done) => {\n\t\t\tconst url = `${process.env.root_url}/${process.env.version_url}/users/0`;\n\t\t\trequest.get(url, (error, res, body) => {\n\t\t\t\tconst jsonObject = JSON.parse(body);\n\t\t\t\texpect(res.statusCode).to.be.equal(200);\n\t\t\t\texpect(jsonObject).to.be.a('object');\n\t\t\t\tdone();\n\t\t\t});\n\t\t}).timeout(10000);\n\t});\n\n\tdescribe('UpdateProfile()', () => {\n\t\tit('should update a users profile', (done) => {\n\t\t\tconst url = `${process.env.root_url}/${process.env.version_url}/users/0`;\n\t\t\tconst formData = {\n\t\t\t\temail: 'kampkelllllly@gmail.com',\n\t\t\t\tfullName: 'New User',\n\t\t\t\tdob: '2018-04',\n\t\t\t};\n\t\t\trequest.put(url, formData, (error, res, body) => {\n\t\t\t\tconst jsonObject = JSON.parse(body);\n\t\t\t\texpect(res.statusCode).to.be.equal(200);\n\t\t\t\texpect(jsonObject).to.be.a('object');\n\t\t\t\tdone();\n\t\t\t});\n\t\t}).timeout(10000);\n\t});\n\n\tdescribe('saveNotifications()', () => {\n\t\tit('should save notifications', (done) => {\n\t\t\tconst url = `${process.env.root_url}/${process.env.version_url}/users/0/notifications`;\n\t\t\tconst formData = {\n\t\t\t\treminderDate: '2019-04',\n\t\t\t};\n\t\t\trequest.put(url, formData, (error, res, body) => {\n\t\t\t\tconst jsonObject = JSON.parse(body);\n\t\t\t\texpect(res.statusCode).to.be.equal(200);\n\t\t\t\texpect(jsonObject).to.be.a('object');\n\t\t\t\tdone();\n\t\t\t});\n\t\t}).timeout(10000);\n\t});\n});\n"]}